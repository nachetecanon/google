<!DOCTYPE html>
<html>
 <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
       <style type="text/css">
            html { height: 100% }
                 body { height: 100%; margin: 0; padding: 0 }
                      #map_canvas { height: 100% }
                    </style>
                       <script type="text/javascript">
                             function initialize() {
		                     var mapOptions = {
		                      center: new google.maps.LatLng(34.397, 250.644),
		                      zoom: 8,
		                      mapTypeId: google.maps.MapTypeId.ROADMAP
                             		};
				     var map = new google.maps.Map(document.getElementById("map_canvas"),
				          mapOptions);
				     var marker=new google.maps.Marker({
					position:map.getCenter(),
					map: map,
					title: 'Click para zoom'
					});
				     google.maps.event.addListener(marker,'click',function() {
					map.setZoom(9);
					map.setCenter(marker.getPosition());
					});
				     google.maps.event.addListener(map,'click',function(event) {
					placeMarker(event.latLng);
				     });
				    function placeMarker(location) {
					var marker=new google.maps.Marker({
						position: location,
						map: map});
					map.setCenter(location);alert(location);
					var infoWindow=new google.maps.InfoWindow({content: 'mierda'});
					google.maps.event.addListener(marker,'click',function() {
					infoWindow.open(map,marker);
				    	} );
		                    }
				    var points = [
					new google.maps.LatLng(34.0771, -109.8906),
					new google.maps.LatLng(34.0631, -109.1763),
					new google.maps.LatLng(34.0485, -109.2568),
					];
					// Create a new polyline and instantly add it to the map
				    var polyline = new google.maps.Polyline({
					path: points,
					strokeColor: '#ff0000',
					strokeWeight: 5,
					strokeOpacity: 0.7,
					map: map
					});
			    }
			    
                            function loadScript() {
                                var script = document.createElement("script");
                                  script.type = "text/javascript";
                                   script.src = "http://maps.googleapis.com/maps/api/js?key=AIzaSyDJOnwof-CsRx6zksCabEwDLluN5MFu69s&libraries=places&sensor=false&callback=initialize";
                                   document.body.appendChild(script);
                            }
                       </script>
    </head>
<body onload="loadScript()">
   <div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>

